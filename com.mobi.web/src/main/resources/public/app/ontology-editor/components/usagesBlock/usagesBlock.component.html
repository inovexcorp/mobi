<!--
  #%L
  com.mobi.web
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 - 2024 iNovex Information Systems, Inc.
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->
<div class="usages-block">
    <div class="section-header">
        <h5>Usages</h5>
    </div>
    <div class="usages-container" #usagesContainer>
        <div *ngIf="this.results">
            <div class="property-values mt-3" *ngFor="let property of this.results | keyvalue">
                <div class="prop-header d-flex align-items-center clearfix">
                    <p class="text text-truncate m-0">{{this.os.getEntityName(property.key)}}</p>
                    <small class="ml-1 text-muted text-truncate flex-1">{{property.key}}</small>
                </div>
                <div class="prop-value-container p-1 ml-3 mt-1" *ngFor="let statement of property.value">
                    <span class="value-display-wrapper">
                        <span *ngFor="let item of statement | keyvalue" class="{{item.key}}">
                            <span *ngIf="item.value === this.os.listItem.selected['@id']" class="selected font-weight-bold">{{this.os.getEntityName(item.value)}}</span>
                            <span *ngIf="item.value !== this.os.listItem.selected['@id']">
                                <span *ngIf="!this.os.isLinkable(item.value)"> {{(item.key === 'predicate') ? (item.value | splitIRI).end : item.value}}</span>
                                <a *ngIf="this.os.isLinkable(item.value)" (click)="this.os.goTo(item.value)"> {{this.os.getEntityName(item.value)}}</a>
                            </span>
                        </span>
                    </span>
                </div>
            </div>
        </div>
        <div class="text-center pt-1">
            <a *ngIf="this.chunks !== this.index" (click)="this.getMoreResults()"><i class="fa fa-fw fa-plus"></i><span>Load More</span></a>
        </div>
    </div>
</div>
